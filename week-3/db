1. Análisis del dominio (StreamHub) y diseño de documentos:
Identifica colecciones necesarias (p. ej., usuarios, películas, series, valoraciones, listas).
Define la estructura JSON de cada documento (campos, arreglos, documentos anidados).

-- usuarios
-- contenidos
-- valoraciones
-- listas

usuarios:
{
  _id: ObjectId(),
  nombre: "Duvan Zuluaga",
  email: "duvan@gmail.com",
  edad: 25,
  pais: "Colombia",
  plan: "premium",
  historial_visto: [
    {
      contenido_id: ObjectId(),
      fecha: ISODate("2025-02-10"),
      progreso: 100
    }
  ]
}

contenidos:
{
  _id: ObjectId(),
  titulo: "Inception",
  tipo: "pelicula",
  genero: ["Ciencia Ficcion", "Accion"],
  duracion: 148,
  anio: 2010,
  rating_promedio: 4.5
}

valoraciones:
{
  _id: ObjectId(),
  usuario_id: ObjectId(),
  contenido_id: ObjectId(),
  puntuacion: 5,
  comentario: "Excelente pelicula",
  fecha: ISODate("2025-02-15")
}

2. Inserción de datos:
Población inicial con insertOne() y/o insertMany() en las colecciones definidas.
Incluye variedad de casos (p. ej., películas con reseñas, usuarios con historial).

db.usuarios.insertMany([
  {
    nombre: "Duvan Zuluaga",
    email: "duvan@gmail.com",
    edad: 25,
    pais: "Colombia",
    plan: "premium",
    historial_visto: []
  },
  {
    nombre: "Maria Lopez",
    email: "maria@gmail.com",
    edad: 30,
    pais: "Mexico",
    plan: "basico",
    historial_visto: []
  }
])

3. Consultas (Lectura) con operadores:
Realiza find() con filtros empleando $gt, $lt, $eq, $in, $and, $or, $regex.
Ejemplos sugeridos:

- Películas con duración > 120 min

```
db.contenidos.find({tipo: "pelicula",duracion: { $gt: 120 }})
```

- Usuarios que vieron > 5 contenidos

```
db.usuarios.find({$expr: {$gt: [ { $size: "$historial" }, 5 ]}})
```

- Usuarios mayores de 20 años y activos

```
db.usuarios.find({$and: [{ edad: { $gt: 20 } },{ activo: true }]})
```

- Contenidos de tipo serie o del año 2010

```
db.contenidos.find({$or: [{ tipo: "serie" },{ anio: { $eq: 2010 } }]})
```

- Buscar por género usando $in

```
db.contenidos.find({genero: { $in: ["Drama"] }})
```

- Buscar título que contenga "Matrix"

```
db.contenidos.find({titulo: { $regex: "Matrix", $options: "i" }})
```

4. Actualizaciones y eliminaciones:

Modifica información con updateOne()/updateMany() (p. ej., actualizar calificación de un contenido).
Elimina documentos con deleteOne()/deleteMany() cuando aplique.

- Actualizar calificación

```
db.valoraciones.updateOne({ calificacion: 5 },{ $set: { calificacion: 4.8 } })
```

- Actualizar múltiples contenidos a no disponibles

```
db.contenidos.updateMany({ anio: { $lt: 2000 } },{ $set: { disponible: false } })
```

- Eliminar una valoración

```
db.valoraciones.deleteOne({ comentario: "Increíble película" })
```
 
- Eliminar contenidos no disponibles

```
db.contenidos.deleteMany({ disponible: false })
```

5. Índices para performance:
Crea índices con createIndex() sobre campos consultados con frecuencia (p. ej., título, género).
Verifica índices existentes con getIndexes() y documenta tus decisiones.
 

- Crear índices

```
db.contenidos.createIndex({ titulo: 1 })
```
```
db.contenidos.createIndex({ genero: 1 })
```
```
db.usuarios.createIndex({ email: 1 }, { unique: true })
```
- Ver índices

```
db.contenidos.getIndexes()
```
```
db.usuarios.getIndexes()
```